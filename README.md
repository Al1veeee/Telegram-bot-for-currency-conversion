# Telegram-bot-for-currency-conversion

## Описание
Данный код представляет собой Telegram-бота для конвертации валют с использованием библиотеки telebot.

Пользователь вводит сумму денег, затем выбирает пару валют для конвертации или вводит свои валюты вручную. Бот использует библиотеку CurrencyConverter для выполнения конвертации.
## Используемые библиотеки
telebot: Библиотека для создания Telegram-ботов.

currency_converter: Библиотека для конвертации валют.
Работает с реальными данными о курсах валют.

types: Модуль для создания inline-клавиатуры и работы с кнопками в Telegram-боте.
## Структура кода
### Глобальные переменные:
bot: объект бота, созданный с использованием API-ключа (замените 'Ключ' на реальный API-ключ).

currency: объект CurrencyConverter для выполнения операций по конвертации валют.

amount: глобальная переменная для хранения суммы, введенной пользователем.

## Функции:
1. start(message)
Обрабатывает команду /start.
При вызове отправляет сообщение с просьбой ввести сумму для конвертации.
После ввода суммы регистрируется следующий обработчик — функция summa.


3. summa(message)
Функция для обработки суммы, введенной пользователем.
Пытается преобразовать введенное сообщение в целое число. Если ввод некорректен (например, текст вместо числа), возвращает сообщение об ошибке и предлагает ввести сумму заново.
Если введенная сумма больше 0, выводит пользователю клавиатуру с выбором валютных пар для конвертации:
USD/EUR
EUR/USD
USD/GBP
Возможность ввести другие валюты вручную.
Если сумма меньше или равна 0, возвращает сообщение с просьбой ввести положительное число.


3. callback(call)
Обрабатывает нажатие кнопок на клавиатуре.
Если выбрана конкретная валютная пара (например, USD/EUR), бот выполняет конвертацию с помощью объекта currency, отправляет пользователю результат и регистрирует следующий ввод суммы.
Если пользователь выбрал опцию "Другое значение", бот просит ввести пару валют вручную.


5. my_currency(message)
Обрабатывает ввод валютной пары вручную.
Пользователь должен ввести пару валют через слэш (например, USD/EUR).
Если ввод корректен, бот выполняет конвертацию и отправляет результат.
Если ввод некорректен, бот отправляет сообщение об ошибке и просит ввести валюты заново.
## Основной цикл:
bot.polling(none_stop=True): запускает бота в режиме непрерывной обработки входящих сообщений.


## Порядок работы бота:
Пользователь вводит команду /start.


Бот запрашивает ввод суммы для конвертации.


Пользователь вводит сумму, и бот предлагает выбрать валютную пару либо ввести её вручную.


После выбора или ввода валюты, бот выполняет конвертацию и выводит результат.


Процесс может быть повторен заново с новой суммой.


## Возможные ошибки:
Конвертация невозможна, если указанная валюта не поддерживается библиотекой CurrencyConverter.


## Требования:
Установленная библиотека pyTelegramBotAPI (telebot).


Установленная библиотека currency_converter.
